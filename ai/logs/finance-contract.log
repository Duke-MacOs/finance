2025-10-22 17:27:34 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-22 17:27:34 [main] INFO  c.o.f.FinanceContractApplication - Starting FinanceContractApplication using Java 23.0.2 with PID 24897 (/Users/victor/Develop/code/ocbc/finance/ai/target/classes started by victor in /Users/victor/Develop/code/ocbc/finance/ai)
2025-10-22 17:27:34 [main] INFO  c.o.f.FinanceContractApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-22 17:27:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22 17:27:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-10-22 17:27:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-10-22 17:27:34 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-10-22 17:27:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-22 17:27:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-22 17:27:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-22 17:27:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 611 ms
2025-10-22 17:27:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-22 17:27:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-10-22 17:27:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-22 17:27:34 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-22 17:27:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22 17:27:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.0.Final
2025-10-22 17:27:35 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-22 17:27:35 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22 17:27:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22 17:27:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    create table tbl_accounting_entry (
        id bigint generated by default as identity,
        created_by varchar(32) not null,
        created_date timestamp(6) not null,
        is_deleted boolean not null,
        reserved_field text,
        updated_by varchar(32),
        updated_date timestamp(6),
        version integer not null,
        accounting_date timestamp(6) not null,
        accounting_no varchar(32) not null,
        amortization_schedule_id bigint,
        booking_date timestamp(6) not null,
        contract_id bigint not null,
        entered_cr numeric(15,2) not null,
        entered_cr_currency varchar(8) not null,
        entered_dr numeric(15,2) not null,
        entered_dr_currency varchar(8) not null,
        gl_account varchar(32) not null,
        primary key (id)
    )
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    create table tbl_amortization_schedule (
        id bigint generated by default as identity,
        created_by varchar(32) not null,
        created_date timestamp(6) not null,
        is_deleted boolean not null,
        reserved_field text,
        updated_by varchar(32),
        updated_date timestamp(6),
        version integer not null,
        amortization_amount numeric(15,2) not null,
        amortization_amount_currency varchar(8) not null,
        contract_id bigint not null,
        is_posted boolean not null,
        post_date timestamp(6) not null,
        schedule_date timestamp(6) not null,
        schedule_no varchar(32) not null,
        primary key (id)
    )
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    create table tbl_contract (
        id bigint generated by default as identity,
        created_by varchar(32) not null,
        created_date timestamp(6) not null,
        is_deleted boolean not null,
        reserved_field text,
        updated_by varchar(32),
        updated_date timestamp(6),
        version integer not null,
        contract_alias varchar(128) not null,
        contract_all_amount numeric(15,2) not null,
        contract_all_currency varchar(8) not null,
        contract_description varchar(256) not null,
        contract_name varchar(128) not null,
        contract_no varchar(128) not null,
        contract_valid_end_date timestamp(6) not null,
        contract_valid_start_date timestamp(6) not null,
        file_id bigint not null,
        is_finished boolean not null,
        party_a varchar(128) not null,
        party_a_id varchar(128) not null,
        party_b varchar(128) not null,
        party_b_id varchar(128) not null,
        primary key (id)
    )
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    create table tbl_contract_details (
        id bigint generated by default as identity,
        created_by varchar(32) not null,
        created_date timestamp(6) not null,
        is_deleted boolean not null,
        reserved_field text,
        updated_by varchar(32),
        updated_date timestamp(6),
        version integer not null,
        account_info text,
        amortization_schedule_info text,
        base_info text,
        contract_id bigint not null,
        fee_info text,
        finance_info text,
        payment_schedule_info text,
        risk_info text,
        settlement_info text,
        tax_info text,
        time_info text,
        primary key (id)
    )
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    create table tbl_original_contract (
        id bigint generated by default as identity,
        created_by varchar(32) not null,
        created_date timestamp(6) not null,
        is_deleted boolean not null,
        reserved_field text,
        updated_by varchar(32),
        updated_date timestamp(6),
        version integer not null,
        file_data bytea not null,
        file_name varchar(128) not null,
        file_type varchar(32) not null,
        primary key (id)
    )
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    create table tbl_payment_schedule (
        id bigint generated by default as identity,
        created_by varchar(32) not null,
        created_date timestamp(6) not null,
        is_deleted boolean not null,
        reserved_field text,
        updated_by varchar(32),
        updated_date timestamp(6),
        version integer not null,
        contract_id bigint not null,
        milestone varchar(128) not null,
        payment_amount numeric(15,2) not null,
        payment_amount_currency varchar(8) not null,
        payment_condition varchar(32) not null,
        payment_date timestamp(6) not null,
        schedule_no varchar(32) not null,
        status varchar(32) not null,
        primary key (id)
    )
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_contract 
       drop constraint if exists UK_e8hq4ktl3bo084e6q6sig3758
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_contract 
       add constraint UK_e8hq4ktl3bo084e6q6sig3758 unique (contract_alias)
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_contract_details 
       drop constraint if exists UK_74oxg1a6pj6aslqthg1656d48
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_contract_details 
       add constraint UK_74oxg1a6pj6aslqthg1656d48 unique (contract_id)
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_accounting_entry 
       add constraint FK5p859vo43i6r2n09aix4w7xir 
       foreign key (amortization_schedule_id) 
       references tbl_amortization_schedule
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_accounting_entry 
       add constraint FK9sw62439snbsfhpg9mx4irkmy 
       foreign key (contract_id) 
       references tbl_contract
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_amortization_schedule 
       add constraint FKryjfigmyhda4hb9lx59gr1uv6 
       foreign key (contract_id) 
       references tbl_contract
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_contract 
       add constraint FKq2ujtsjj17yvnmuh6cw4b7445 
       foreign key (file_id) 
       references tbl_original_contract
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_contract_details 
       add constraint FKii6c4g3q6ifvhbs8qyay47vdh 
       foreign key (contract_id) 
       references tbl_contract
2025-10-22 17:27:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists tbl_payment_schedule 
       add constraint FK4f3hutmotojk7xd52omissrpy 
       foreign key (contract_id) 
       references tbl_contract
2025-10-22 17:27:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22 17:27:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-22 17:27:36 [main] INFO  c.o.finance.config.ThreadPoolConfig - PDF处理线程池初始化完成 - 核心线程数: 2, 最大线程数: 5, 队列容量: 10
2025-10-22 17:27:36 [main] INFO  c.o.finance.util.PDFBoxConfigManager - PDFBox配置管理器已初始化
2025-10-22 17:27:36 [main] INFO  c.o.finance.config.ThreadPoolConfig - 通用异步任务线程池初始化完成 - 核心线程数: 4, 最大线程数: 10, 队列容量: 20
2025-10-22 17:27:36 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-10-22 17:27:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path ''
2025-10-22 17:27:36 [main] INFO  c.o.f.FinanceContractApplication - Started FinanceContractApplication in 2.609 seconds (process running for 2.798)
2025-10-22 17:45:57 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 17:45:57 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-22 17:45:57 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
